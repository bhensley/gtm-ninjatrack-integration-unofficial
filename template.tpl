___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "NinjaTrack Integration (Unofficial)",
  "categories": [
    "ADVERTISING",
    "ANALYTICS",
    "CONVERSIONS"
  ],
  "brand": {
    "id": "brand_dummy",
    "displayName": "Custom Template",
    "thumbnail": "data:image/png;base64,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\u003d\u003d"
  },
  "description": "Easily integrate NinjaTrack call tracking scripting. Brought to you by 919 Marketing.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "NinjaTrackID",
    "displayName": "NinjaTrack ID",
    "simpleValueType": true,
    "help": "This is found within the URL when in the account within NinjaCat. For example: \"accounts#/{NINJATRACK ID}/\""
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

// Enter your template code here.
const log = require('logToConsole');
const queryPermission = require('queryPermission');
const injectScript = require('injectScript');

const scriptUrl = "https://assets.mymarketingreports.com/js/dni.js?nt_id=" + data.NinjaTrackID;
log('NT Script URL: ' + scriptUrl);

const onSuccess = () => {
  log('919 NinjaTrack Integration Successful');
  data.gtmOnSuccess();
};

const onFailure = () => {
  log('919 NinjaTrack Integration Failed');
  data.gtmOnFailure();
};

if (queryPermission('inject_script', scriptUrl)) {
  injectScript(scriptUrl, onSuccess, onFailure);
} else {
  log('919 NinjaTrack Integration failed due to permissions mismatch.');
  data.gtmOnFailure();
}


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://assets.mymarketingreports.com/"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 11/21/2023, 11:55:51 AM


